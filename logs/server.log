2025-12-14 17:12:00.510 [main] INFO  c.dnikitin.poker.server.PokerServer - PokerServer initialized with security features:
2025-12-14 17:12:00.514 [main] INFO  c.dnikitin.poker.server.PokerServer -   - Rate limit: 10 messages per second
2025-12-14 17:12:00.515 [main] INFO  c.dnikitin.poker.server.PokerServer -   - Turn timeout: 45 seconds
2025-12-14 17:12:00.518 [main] INFO  c.dnikitin.poker.server.PokerServer - Poker Server started on port: 7777
2025-12-14 17:12:00.518 [main] INFO  c.dnikitin.poker.server.PokerServer - Using virtual threads for client handling
2025-12-14 17:12:09.186 [main] INFO  c.dnikitin.poker.server.PokerServer - New connection accepted: /127.0.0.1:60134
2025-12-14 17:12:09.225 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: HELLO VERSION=1.0
2025-12-14 17:12:09.227 [virtual-32] INFO  c.d.poker.server.ClientHandler - Client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2 connected
2025-12-14 17:12:23.806 [main] INFO  c.dnikitin.poker.server.PokerServer - New connection accepted: /127.0.0.1:63732
2025-12-14 17:12:23.807 [virtual-36] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: HELLO VERSION=1.0
2025-12-14 17:12:23.807 [virtual-36] INFO  c.d.poker.server.ClientHandler - Client 4697bf76-bb0e-4a9c-ae23-262748b34dc5 connected
2025-12-14 17:12:55.441 [virtual-36] DEBUG c.d.poker.server.ClientHandler - Client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: CREATE ANTE=10 BET=10 LIMIT=FIXED
2025-12-14 17:12:55.452 [virtual-36] INFO  com.dnikitin.poker.model.Deck - Deck shuffled. Cards count: 52
2025-12-14 17:12:55.452 [virtual-36] INFO  c.dnikitin.poker.game.engine.Dealer - New deck created and shuffled. Seed: 3345790926081858767 (for audit)
2025-12-14 17:12:55.453 [virtual-36] DEBUG c.d.poker.game.engine.PotManager - PotManager reset
2025-12-14 17:12:55.454 [virtual-36] INFO  com.dnikitin.poker.game.GameManager - Created new game table: ebaec031-09f3-4169-80c3-76e8467715cc. Active games: 1
2025-12-14 17:12:55.455 [virtual-36] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: OK MESSAGE=GAME_ID=ebaec031-09f3-4169-80c3-76e8467715cc
2025-12-14 17:12:55.455 [virtual-36] INFO  c.d.poker.server.ClientHandler - Client 4697bf76-bb0e-4a9c-ae23-262748b34dc5 created game ebaec031-09f3-4169-80c3-76e8467715cc
2025-12-14 17:13:09.772 [virtual-36] DEBUG c.d.poker.server.ClientHandler - Client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: JOIN GAME=ebaec031-09f3-4169-80c3-76e8467715cc NAME=Me
2025-12-14 17:13:09.775 [virtual-36] INFO  com.dnikitin.poker.game.Table - Player Me joined table ebaec031-09f3-4169-80c3-76e8467715cc. Total players: 1
2025-12-14 17:13:09.786 [virtual-36] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: LOBBY PLAYER=a7aa5d18-df84-4e76-bd63-be57fdcee81b CHIPS=1000 NAME=Me
2025-12-14 17:13:09.787 [virtual-36] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: WELCOME GAME=ebaec031-09f3-4169-80c3-76e8467715cc PLAYER=a7aa5d18-df84-4e76-bd63-be57fdcee81b
2025-12-14 17:13:09.787 [virtual-36] INFO  c.d.poker.server.ClientHandler - Client 4697bf76-bb0e-4a9c-ae23-262748b34dc5 joined game ebaec031-09f3-4169-80c3-76e8467715cc as Me
2025-12-14 17:13:21.438 [virtual-32] DEBUG c.d.poker.server.ClientHandler - Client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: JOIN GAME=ebaec031-09f3-4169-80c3-76e8467715cc NAME=Me
2025-12-14 17:13:21.438 [virtual-32] INFO  com.dnikitin.poker.game.Table - Player Me joined table ebaec031-09f3-4169-80c3-76e8467715cc. Total players: 2
2025-12-14 17:13:21.439 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: LOBBY PLAYER=3133e3b9-5332-47a3-9cbf-1d2be4d552f6 CHIPS=1000 NAME=Me
2025-12-14 17:13:21.439 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: LOBBY PLAYER=3133e3b9-5332-47a3-9cbf-1d2be4d552f6 CHIPS=1000 NAME=Me
2025-12-14 17:13:21.439 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: WELCOME GAME=ebaec031-09f3-4169-80c3-76e8467715cc PLAYER=3133e3b9-5332-47a3-9cbf-1d2be4d552f6
2025-12-14 17:13:21.439 [virtual-32] INFO  c.d.poker.server.ClientHandler - Client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2 joined game ebaec031-09f3-4169-80c3-76e8467715cc as Me
2025-12-14 17:13:43.255 [main] INFO  c.dnikitin.poker.server.PokerServer - New connection accepted: /127.0.0.1:52021
2025-12-14 17:13:43.256 [virtual-39] DEBUG c.d.poker.server.ClientHandler - To client 38be6ee6-dd12-4ddb-b795-055d2c05825f: HELLO VERSION=1.0
2025-12-14 17:13:43.256 [virtual-39] INFO  c.d.poker.server.ClientHandler - Client 38be6ee6-dd12-4ddb-b795-055d2c05825f connected
2025-12-14 17:13:50.958 [virtual-39] DEBUG c.d.poker.server.ClientHandler - Client 38be6ee6-dd12-4ddb-b795-055d2c05825f: join ebaec031-09f3-4169-80c3-76e8467715cc Dima
2025-12-14 17:13:50.959 [virtual-39] WARN  c.d.poker.server.ClientHandler - Protocol error from client 38be6ee6-dd12-4ddb-b795-055d2c05825f: JOIN requires GAME and NAME
2025-12-14 17:13:50.959 [virtual-39] DEBUG c.d.poker.server.ClientHandler - To client 38be6ee6-dd12-4ddb-b795-055d2c05825f: ERR CODE=MISSING_PARAMS REASON=JOIN_requires_GAME_and_NAME
2025-12-14 17:15:00.462 [virtual-32] DEBUG c.d.poker.server.ClientHandler - Client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: ebaec031-09f3-4169-80c3-76e8467715cc 3133e3b9-5332-47a3-9cbf-1d2be4d552f6 START
2025-12-14 17:15:00.464 [virtual-32] INFO  com.dnikitin.poker.game.Table - Starting game on table ebaec031-09f3-4169-80c3-76e8467715cc
2025-12-14 17:15:00.466 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: STARTED GAME=ebaec031-09f3-4169-80c3-76e8467715cc
2025-12-14 17:15:00.466 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: STARTED GAME=ebaec031-09f3-4169-80c3-76e8467715cc
2025-12-14 17:15:00.466 [virtual-32] DEBUG c.d.poker.game.engine.TurnOrder - Dealer rotated to position 0: Me
2025-12-14 17:15:00.466 [virtual-32] DEBUG c.d.poker.game.engine.PotManager - PotManager reset
2025-12-14 17:15:00.468 [virtual-32] INFO  com.dnikitin.poker.model.Deck - Deck shuffled. Cards count: 52
2025-12-14 17:15:00.468 [virtual-32] INFO  c.dnikitin.poker.game.engine.Dealer - New deck created and shuffled. Seed: -5964220293021145669 (for audit)
2025-12-14 17:15:00.469 [virtual-32] INFO  com.dnikitin.poker.game.Table - Hand started. Dealer: Me. Deck Seed: DECK_SEED:AD3AD53E484C65BB
2025-12-14 17:15:00.470 [virtual-32] INFO  com.dnikitin.poker.game.Table - State transition: LOBBY -> ANTE
2025-12-14 17:15:00.470 [virtual-32] DEBUG c.dnikitin.poker.game.engine.Round - Round reset for phase: LOBBY
2025-12-14 17:15:00.470 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: STATE PHASE=ANTE
2025-12-14 17:15:00.470 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: STATE PHASE=ANTE
2025-12-14 17:15:00.471 [virtual-32] DEBUG c.d.poker.game.engine.PotManager - Added 10 to main pot. Total: 10
2025-12-14 17:15:00.471 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: ACTION PLAYER=a7aa5d18-df84-4e76-bd63-be57fdcee81b TYPE=ANTE AMOUNT=10 MSG=Paid Ante
2025-12-14 17:15:00.471 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: ACTION PLAYER=a7aa5d18-df84-4e76-bd63-be57fdcee81b TYPE=ANTE AMOUNT=10 MSG=Paid Ante
2025-12-14 17:15:00.471 [virtual-32] DEBUG c.d.poker.game.engine.PotManager - Added 10 to main pot. Total: 20
2025-12-14 17:15:00.471 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: ACTION PLAYER=3133e3b9-5332-47a3-9cbf-1d2be4d552f6 TYPE=ANTE AMOUNT=10 MSG=Paid Ante
2025-12-14 17:15:00.471 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: ACTION PLAYER=3133e3b9-5332-47a3-9cbf-1d2be4d552f6 TYPE=ANTE AMOUNT=10 MSG=Paid Ante
2025-12-14 17:15:00.472 [virtual-32] INFO  com.dnikitin.poker.game.Table - State transition: ANTE -> DEALING
2025-12-14 17:15:00.472 [virtual-32] DEBUG c.dnikitin.poker.game.engine.Round - Round reset for phase: LOBBY
2025-12-14 17:15:00.472 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: STATE PHASE=DEALING
2025-12-14 17:15:00.472 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: STATE PHASE=DEALING
2025-12-14 17:15:00.472 [virtual-32] INFO  c.dnikitin.poker.game.engine.Dealer - Dealing 5 cards to 2 players
2025-12-14 17:15:00.472 [virtual-32] DEBUG c.dnikitin.poker.game.engine.Dealer - Dealt 5 cards to player Me
2025-12-14 17:15:00.472 [virtual-32] DEBUG c.dnikitin.poker.game.engine.Dealer - Dealt 5 cards to player Me
2025-12-14 17:15:00.474 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: DEAL PLAYER=a7aa5d18-df84-4e76-bd63-be57fdcee81b CARDS=3♥,9♠,K♥,K♦,9♦
2025-12-14 17:15:00.475 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: DEAL PLAYER=a7aa5d18-df84-4e76-bd63-be57fdcee81b CARDS=HIDDEN COUNT=5
2025-12-14 17:15:00.475 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: DEAL PLAYER=3133e3b9-5332-47a3-9cbf-1d2be4d552f6 CARDS=HIDDEN COUNT=5
2025-12-14 17:15:00.475 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: DEAL PLAYER=3133e3b9-5332-47a3-9cbf-1d2be4d552f6 CARDS=5♥,4♠,3♦,7♠,A♦
2025-12-14 17:15:00.476 [virtual-32] DEBUG c.d.poker.game.engine.TurnOrder - Starting turn from left of dealer: Me
2025-12-14 17:15:00.476 [virtual-32] INFO  com.dnikitin.poker.game.Table - State transition: DEALING -> BETTING_1
2025-12-14 17:15:00.476 [virtual-32] DEBUG c.dnikitin.poker.game.engine.Round - Round reset for phase: LOBBY
2025-12-14 17:15:00.476 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: STATE PHASE=BETTING_1
2025-12-14 17:15:00.476 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: STATE PHASE=BETTING_1
2025-12-14 17:15:00.477 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: TURN PLAYER=3133e3b9-5332-47a3-9cbf-1d2be4d552f6
2025-12-14 17:15:00.479 [virtual-32] DEBUG c.d.p.server.security.TimeoutManager - Timeout started for player 3133e3b9-5332-47a3-9cbf-1d2be4d552f6: 45s
2025-12-14 17:15:00.479 [virtual-32] DEBUG c.d.poker.server.ClientHandler - Started timeout for player Me
2025-12-14 17:15:00.479 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: TURN PLAYER=3133e3b9-5332-47a3-9cbf-1d2be4d552f6
2025-12-14 17:15:00.479 [virtual-32] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: OK MESSAGE=Game started
2025-12-14 17:15:00.479 [virtual-32] INFO  c.d.poker.server.ClientHandler - Client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2 started game
2025-12-14 17:15:45.480 [virtual-42] WARN  c.d.p.server.security.TimeoutManager - Player 3133e3b9-5332-47a3-9cbf-1d2be4d552f6 timed out
2025-12-14 17:15:45.480 [virtual-42] WARN  c.d.poker.server.ClientHandler - Player Me timed out, auto-folding
2025-12-14 17:15:45.481 [virtual-42] INFO  com.dnikitin.poker.game.Table - Player Me folded.
2025-12-14 17:15:45.481 [virtual-42] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: ACTION PLAYER=3133e3b9-5332-47a3-9cbf-1d2be4d552f6 TYPE=FOLD AMOUNT=0 MSG=Folded
2025-12-14 17:15:45.481 [virtual-42] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: ACTION PLAYER=3133e3b9-5332-47a3-9cbf-1d2be4d552f6 TYPE=FOLD AMOUNT=0 MSG=Folded
2025-12-14 17:15:45.485 [virtual-42] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: ROUND POT=40 HIGHESTBET=0
2025-12-14 17:15:45.485 [virtual-42] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: ROUND POT=40 HIGHESTBET=0
2025-12-14 17:15:45.486 [virtual-42] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: WINNER PLAYER=a7aa5d18-df84-4e76-bd63-be57fdcee81b POT=40 RANK=Opponents Folded
2025-12-14 17:15:45.486 [virtual-42] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: WINNER PLAYER=a7aa5d18-df84-4e76-bd63-be57fdcee81b POT=40 RANK=Opponents Folded
2025-12-14 17:15:45.486 [virtual-42] INFO  com.dnikitin.poker.game.Table - State transition: BETTING_1 -> FINISHED
2025-12-14 17:15:45.486 [virtual-42] DEBUG c.dnikitin.poker.game.engine.Round - Round reset for phase: LOBBY
2025-12-14 17:15:45.486 [virtual-42] DEBUG c.d.poker.server.ClientHandler - To client 4697bf76-bb0e-4a9c-ae23-262748b34dc5: STATE PHASE=FINISHED
2025-12-14 17:15:45.487 [virtual-42] DEBUG c.d.poker.server.ClientHandler - To client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2: STATE PHASE=FINISHED
2025-12-14 17:16:54.848 [virtual-32] INFO  c.d.poker.server.ClientHandler - Client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2 disconnected: Connection reset
2025-12-14 17:16:54.849 [virtual-32] INFO  c.d.poker.server.ClientHandler - Player Me disconnected from game
2025-12-14 17:16:54.849 [virtual-32] INFO  c.d.poker.server.ClientHandler - Client 94bd10c7-dd1c-41ac-acb3-bab6d2fc47e2 disconnected
2025-12-14 17:16:56.095 [virtual-39] INFO  c.d.poker.server.ClientHandler - Client 38be6ee6-dd12-4ddb-b795-055d2c05825f disconnected: Connection reset
2025-12-14 17:16:56.095 [virtual-39] INFO  c.d.poker.server.ClientHandler - Client 38be6ee6-dd12-4ddb-b795-055d2c05825f disconnected
2025-12-14 17:16:57.698 [virtual-36] INFO  c.d.poker.server.ClientHandler - Client 4697bf76-bb0e-4a9c-ae23-262748b34dc5 disconnected: Connection reset
2025-12-14 17:16:57.699 [virtual-36] INFO  c.d.poker.server.ClientHandler - Player Me disconnected from game
2025-12-14 17:16:57.699 [virtual-36] INFO  c.d.poker.server.ClientHandler - Client 4697bf76-bb0e-4a9c-ae23-262748b34dc5 disconnected
2025-12-14 17:16:58.792 [Thread-0] INFO  c.dnikitin.poker.server.PokerServer - Shutting down server...
2025-12-14 17:16:58.792 [main] INFO  c.dnikitin.poker.server.PokerServer - Server socket closed.
2025-12-14 17:16:58.792 [main] INFO  c.dnikitin.poker.server.PokerServer - Shutting down server...
2025-12-14 17:16:58.793 [main] INFO  c.d.p.server.security.TimeoutManager - TimeoutManager shut down
2025-12-14 17:16:58.793 [Thread-0] INFO  c.d.p.server.security.TimeoutManager - TimeoutManager shut down
2025-12-14 17:16:58.793 [main] INFO  c.dnikitin.poker.server.PokerServer - Server stopped successfully.
2025-12-14 17:16:58.793 [Thread-0] INFO  c.dnikitin.poker.server.PokerServer - Server stopped successfully.
